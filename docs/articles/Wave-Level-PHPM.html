<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wave-level PHPM designs • simPM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Wave-level PHPM designs">
<meta property="og:description" content="simPM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-84499524-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84499524-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simPM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/Autoregressive-Cross-Lagged-Model.html">An Example of PHPM with an Autoregression and Cross-lagged Model</a>
    </li>
    <li>
      <a href="../articles/Conditional-Linear-Latent-Growth-Model.html">An Example of PHPM with a Conditional Linear Latent Growth Model</a>
    </li>
    <li>
      <a href="../articles/Wave-Level-PHPM.html">Wave-level PM designs</a>
    </li>
    <li>
      <a href="../articles/Item-Level-PHPM.html">Item-level PM designs</a>
    </li>
    <li>
      <a href="../articles/Forward-Assembly-PHPM.html">Forward assembly</a>
    </li>
    <li>
      <a href="../articles/Summary.html">Summarize the optimal design</a>
    </li>
    <li>
      <a href="../articles/PlotPM.html">Plot the optimal design</a>
    </li>
  </ul>
</li>
<li>
  <a href="../manual/simPM_0.0.0.9000.pdf">
    <span class="fa fa-pencil-square-o"></span>
     
    Manual
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    FAQ
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/YiFengEDMS/simPM">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/TheYiFeng">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Wave-level PHPM designs</h1>
                        <h4 class="author">Yi Feng &amp; Gregory R. Hancock</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/YiFengEDMS/simPM/blob/master/vignettes/Wave-Level-PHPM.Rmd"><code>vignettes/Wave-Level-PHPM.Rmd</code></a></small>
      <div class="hidden name"><code>Wave-Level-PHPM.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a><span style="color:seagreen"><strong>Introduction</strong></span>
</h2>
<p>In this vignette we will introduce the wave-level PHPM designs. As the name suggests, in wave-level PHPM designs, the missingness is imposed at the wave level. In those designs, participants are assigned to miss one or more waves of future data collection. If a participant is assigned to miss a specific wave of data collection, the researcher will not collect any data from this participant in that wave.</p>
<p>Wave-level PHPM designs are relatively easy to implement. But there is usually a very limited number of plausible wave-level missing designs, and thus sometimes the search among wave-level PHPM designs may not yield a satisfactory result in terms of statistical power.</p>
</div>
<div id="search-for-wave-level-phpm-designs" class="section level2">
<h2 class="hasAnchor">
<a href="#search-for-wave-level-phpm-designs" class="anchor"></a><span style="color:seagreen"><strong>Search for wave-level PHPM designs</strong></span>
</h2>
<p>To search for wave-level PHPM designs using <code>simPM</code>, we only need to specify the <code>methods = "wave"</code> argument when using the <code><a href="../reference/simPM.html">simPM()</a></code> function.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a><span style="color:seagreen"><strong>Example</strong></span>
</h2>
<p>In this <a href="Conditional-Linear-Latent-Growth-Model.html">hypothetical example</a>, a researcher (Dr. X) is interested in studying the longitudinal growth of adolescents’ depressive symptoms. Dr. X has proposed a longitudinal study that is expected to extend over 3 years. Participants are to be assessed with Beck’s Depression Inventory (BDI) every six months. Participants also report their social support at the first wave of data collection. The data will be analyzed using a conditional linear LGM, as seen in the following diagram. The main goal of the study is to examine the impact of social support on the growth trajectory of depressive symptoms. Additionally, the researcher is interested in the relation between the intercept and slope after controlling for social support. The model parameters of focal interest include the path coefficients predicting the latent intercept and latent slope from social support, as well as the residual covariance between the latent intercept and slope.</p>
<p>Although the researcher has initially obtained an external funding to support his longitudinal study, unfortunately, after the first two waves of data collection, the funding agency announces a 30% reduction in the remaining funding. Mr. X wishes to continue the project but he has to deal with the lowered budget constraint. Of course, Mr. Y also wants to keep the scientific rigor and satisfactory statistical power. She thus chooses to use <code>simPM</code> to find a design that yields sufficient power but costs no more than the reduced budget.</p>
<div class="figure" style="text-align: center">
<img src="images/CLPM.png" alt="A conditional linear LGM" width="70%"><p class="caption">
A conditional linear LGM
</p>
</div>
<p>After supplying the population model and the analysis model, we can use the function <code><a href="../reference/simPM.html">simPM()</a></code> to search for an optimal wave-level missing design with the <code>methods = "wave"</code> argument. For more details about the specification of other arguments, please refer to <a href="Conditional-Linear-Latent-Growth-Model.html">this vignette</a>.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">popModel</span> <span class="kw">&lt;-</span> <span class="st">'

sprt ~~ 1*sprt
sprt ~ 0*1

i =~ 1*BDI1 + 1*BDI2 + 1*BDI3 + 1*BDI4 + 1*BDI5 + 1*BDI6
s =~ 0*BDI1 + 1*BDI2 + 2*BDI3 + 3*BDI4 + 4*BDI5 + 5*BDI6

BDI1~0*1
BDI2~0*1
BDI3~0*1
BDI4~0*1
BDI5~0*1
BDI6~0*1

BDI1~~0.3*BDI1
BDI2~~0.3*BDI2
BDI3~~0.3*BDI3
BDI4~~0.3*BDI4
BDI5~~0.3*BDI5
BDI6~~0.3*BDI6

i ~ -1.5*sprt
s ~ -0.2*sprt

i ~ 26*1
s ~ -1*1

i ~~ 6*i+ (-0.9)*s
s ~~ 2*s

'</span></pre></body></html></div>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">analyzeModel</span> <span class="kw">&lt;-</span> <span class="st">'

sprt ~~ sprt
sprt ~ 1

i =~ 1*BDI1 + 1*BDI2 + 1*BDI3 + 1*BDI4 + 1*BDI5 + 1*BDI6
s =~ 0*BDI1 + 1*BDI2 + 2*BDI3 + 3*BDI4 + 4*BDI5 + 5*BDI6

BDI1~0*1
BDI2~0*1
BDI3~0*1
BDI4~0*1
BDI5~0*1
BDI6~0*1

BDI1~~BDI1
BDI2~~BDI2
BDI3~~BDI3
BDI4~~BDI4
BDI5~~BDI5
BDI6~~BDI6

i ~ sprt
s ~ sprt

i ~ 1
s ~ 1

i ~~ i + s
s ~~ s

'</span></pre></body></html></div>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">wave.lgm</span> <span class="kw">&lt;-</span> <span class="kw pkg">simPM</span><span class="kw ns">::</span><span class="fu"><a href="../reference/simPM.html">simPM</a></span>(<span class="kw">popModel</span> <span class="kw">=</span> <span class="no">popModel</span>,
                      <span class="kw">analyzeModel</span> <span class="kw">=</span> <span class="no">analyzeModel</span>,
                      <span class="kw">VarNAMES</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"BDI"</span>,<span class="fl">1</span>:<span class="fl">6</span>),
                      <span class="kw">Time</span> <span class="kw">=</span> <span class="fl">6</span>,
                      <span class="kw">Time.complete</span> <span class="kw">=</span> <span class="fl">2</span>,
                      <span class="kw">k</span> <span class="kw">=</span> <span class="fl">1</span>,
                      <span class="kw">pc</span> <span class="kw">=</span> <span class="fl">0.2</span>,
                      <span class="kw">pd</span> <span class="kw">=</span> <span class="fl">0</span>,
                      <span class="kw">costmx</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">15</span>,<span class="fl">15</span>),
                      <span class="kw">n</span> <span class="kw">=</span> <span class="fl">450</span>,
                      <span class="kw">nreps</span> <span class="kw">=</span> <span class="fl">1000</span>,
                      <span class="kw">focal.param</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"i~sprt"</span>,<span class="st">"s~sprt"</span>,<span class="st">"i~~s"</span>),
                      <span class="kw">complete.wave</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                      <span class="kw">eval.budget</span> <span class="kw">=</span> <span class="no">T</span>,
                      <span class="kw">rm.budget</span> <span class="kw">=</span> <span class="fl">50</span>*<span class="fl">450</span>*<span class="fl">0.7</span>,
                      <span class="kw">seed</span> <span class="kw">=</span> <span class="fl">12345</span>,
                      <span class="kw">distal.var</span> <span class="kw">=</span> <span class="st">"sprt"</span>,
                      <span class="kw">engine</span> <span class="kw">=</span> <span class="st">"l"</span>,
                      <span class="kw">methods</span> <span class="kw">=</span> <span class="st">"wave"</span>)</pre></body></html></div>
<p>By running the code above, <code>simPM</code> will map out the possible wave-level PHPM designs and determine whether the cost of each design is within the remaining budget limit. It will run Monte Carlo simulations for the plausible designs that cost less than the remaining amount of funding. Comparisons are made among the plausible designs. The design that yields higher empirical statistical power with regard to the focal parameters will be selected as the optimal wave-level PHPM design.</p>
<p>In this example, there are two plausible wave-level PHPM designs, given we have specified that 20% of the participants will provide complete data over the following waves of data collection.</p>
<p>From the output, we can see that 90 participants are assigned to provide complete data over the future waves of data collection, while the rest of the participants are assigned to one of the four missing data patterns. More specifically, ninety participants are randomly picked to NOT provide data in wave 3, wave 4, and wave 5 (the first row of the plot); another 90 participants are randomly picked to NOT provide data in wave 3, wave 4, and wave 6 (the second row of the plot).</p>
<p>This design yields satisfactory statistical power for testing all three focal parameters (<code>i~sprt</code>,<code>s~sprt</code>,<code>i~~s</code>).</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">wave.lgm</span>)
<span class="co">#&gt; [1] "=================results summary================"</span>
<span class="co">#&gt;   convergence.rate weakest.param.name weakest.para.power cost.design</span>
<span class="co">#&gt; 1            1.000             s~sprt              0.828       13650</span>
<span class="co">#&gt; 2            0.999             s~sprt              0.862        9000</span>
<span class="co">#&gt;   miss.waves</span>
<span class="co">#&gt; 1          2</span>
<span class="co">#&gt; 2          3</span>
<span class="co">#&gt; [1] "=================Optimal design================="</span>
<span class="co">#&gt;   convergence.rate weakest.param.name weakest.para.power cost.design</span>
<span class="co">#&gt; 2            0.999             s~sprt              0.862        9000</span>
<span class="co">#&gt;   miss.waves</span>
<span class="co">#&gt; 2          3</span>
<span class="co">#&gt; [1] "=================Optimal design for focal parameters================="</span>
<span class="co">#&gt;        Estimate Average Estimate SD Average SE Power (Not equal 0)</span>
<span class="co">#&gt; i~sprt       -1.5001637  0.11853266 0.11738935               1.000</span>
<span class="co">#&gt; s~sprt       -0.2015112  0.06651828 0.06750681               0.862</span>
<span class="co">#&gt; i~~s         -0.8928260  0.18286992 0.17397815               0.999</span>
<span class="co">#&gt;           Std Est Std Est SD Std Ave SE Average Param  Average Bias</span>
<span class="co">#&gt; i~sprt -0.5217401 0.03515221 0.03482613          -1.5 -0.0001637438</span>
<span class="co">#&gt; s~sprt -0.1411624 0.04615719 0.04674602          -0.2 -0.0015111960</span>
<span class="co">#&gt; i~~s   -0.2585775 0.04777923 0.04514329          -0.9  0.0071740326</span>
<span class="co">#&gt;        Coverage Average FMI1     SD FMI1</span>
<span class="co">#&gt; i~sprt    0.950  0.007683133 0.002622483</span>
<span class="co">#&gt; s~sprt    0.956  0.019456644 0.003455831</span>
<span class="co">#&gt; i~~s      0.937  0.034027477 0.006533191</span>
<span class="co">#&gt; [1] "=================Optimal patterns==============="</span>
<span class="co">#&gt;            BDI1 BDI2 BDI3 BDI4 BDI5 BDI6</span>
<span class="co">#&gt;               0    0    1    1    1    0</span>
<span class="co">#&gt;               0    0    1    1    0    1</span>
<span class="co">#&gt;               0    0    1    0    1    1</span>
<span class="co">#&gt;               0    0    0    1    1    1</span>
<span class="co">#&gt; completers    0    0    0    0    0    0</span>
<span class="co">#&gt; [1] "=================Optimal probs=================="</span>
<span class="co">#&gt; [1] 0.2 0.2 0.2 0.2 0.2</span>
<span class="co">#&gt; [1] "=================Optimal ns===================="</span>
<span class="co">#&gt; [1] 90 90 90 90 90</span></pre></body></html></div>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/plotPM.html">plotPM</a></span>(<span class="no">wave.lgm</span>)</pre></body></html></div>
<p><img src="Wave-Level-PHPM_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Package simPM© developed by Yi Feng &amp; Gregory R. Hancock</p>
</div>



<div class="twitter-YF" align="right">
<a href="https://twitter.com/TheYiFeng?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @TheYiFeng</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

 

<a href="https://twitter.com/GregoryRHancock?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @GregoryRHancock</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

      </footer>
</div>

  


  </body>
</html>
